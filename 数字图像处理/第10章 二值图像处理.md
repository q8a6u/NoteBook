# 二值图像处理

## 二值图像处理定义

### 存在问题

经过图像分割之后，获得了目标物与非目标物两种不同的对象。但提取出的目标物存在以下的问题：

提取的目标中存在**伪目标物**；

多个目标物中，存在**粘连或者是断裂**；

多个目标物**存在形态的不同**。

### 目的

二值图像处理目的：

1.区分所提取出的不同目标物

2.对不同的目标物特征差异进行描述与计算

### 连接与连通域

<img src="https://gitee.com/cpicture/picture-1/raw/master/20210620101543.png" style="zoom:67%;" />

## 贴标签算法　

### 基本思路

基本思想：不同的连通域代表了不同的目标，为了加以区别，需要对不同的连通域进行标识。

### 算法步骤

> 1、初始化：设标签号为L=0,已贴标签数N=0，标签矩阵g为全0
>
> 2、检查相邻像素的状态：
>
> 如果扫描过的像素均为0，则L=L+1, g(i,j)=L, N=N+1;
> 如果扫描过的像素标签号相同，则g(i,j)=L;
> 如果扫描过的像素标签号不相同，例如L2> L1, 则g(i,j)=L1，N=N-1，修改所有为L2的像素值，使之为L1
>
> 3、将全部的像素进行步骤2的处理，直到所有的像素全部处理完
>
> 4、判断最终的L是否满足L=N，     
> 如果是，则贴标签处理完成；    
> 如果不是，则表明已贴标签存在不连号情况,将进行一次编码整理，消除不连续编号的情况。

## 形态学操作

### 腐蚀

腐蚀：消除连通域的边界点，使边界向内**收缩**的处理。

**全为1**才不会被腐蚀

腐蚀处理可以将**粘连在一起的不同目标物分离**，并可以将**小的颗粒噪声去除**。

### 膨胀

 膨胀是将与目标区域的背景点合并到该目标物中，使目标物边界向**外部扩张**的处理。

**存在1**就膨胀

膨胀处理可以**将断裂开的目标物进行合并**，便于对其整体的提取。

### 开和闭运算

开运算是对原图先进行腐蚀处理，后再进行膨胀的处理。

开运算可以在分离粘连目标物的同时，基本保持原目标物的大小。

闭运算是对原图先进行膨胀处理，后再进行腐蚀的处理。

闭运算可以在合并断裂目标物的同时，基本保持原目标物的大小。

**开、闭运算的变形**

如果当按照常规的开运算不能分离粘连，或者是闭运算不能合并断裂：
对于开运算可以先进行N次腐蚀，再进行N次膨胀；
对于闭运算可以先进行N次膨胀，再进行N次腐蚀