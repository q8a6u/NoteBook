# 图像分割

## 图像分割定义

图像分割可以看做是图像标记的一种特例。

图像分割的核心问题是如何为像素f(x,y)给予准确地**离散化标签**g(x,y)。

## 阈值法　

**基本原理**

![](https://gitee.com/cpicture/picture-1/raw/master/20210620094659.png)

![](https://gitee.com/cpicture/picture-1/raw/master/20210620094730.png)

## 聚类法

**K-means聚类算法用于图像分割示例**

<img src="https://gitee.com/cpicture/picture-1/raw/master/20210620094849.png" style="zoom:67%;" />

## 边界法

原理：将待分割的区域看做由一个闭合边界包围的像素集合，因此边界法实现分割的前提是边界的提取

关键技术：边缘检测、霍夫变换……

**基于Hough变换的分割方法**

原理：已知分割目标区域由直线、曲线、圆等形状构成。分割问题转化为对直线、曲线、圆的检测问题。

**Hough变换**：将图像由图像空间变换为参数空间

图像空间中的一条线对应Hough空间中的一个点

图像空间中的点(x0, y0)能映射为Hough空间中的b = -x0m + y0，是Hough空间中的一条线

Hough空间中两条线的交点用来表示过点(x0,y0)和点(x1,y1)的直线 

Hough变换的这种实现方式（y=mx+b)不能表示垂直线，因为垂直线的斜率为无穷大。

**Hough变换：极坐标系**

这样经过Hough变换，图像空间中的每个点 (x,y)就被映射为一个(r,θ)空间中的**正弦曲线**。 
而图像空间中共线的点所对应的(r,θ)空间中正弦曲线相交于一点(r’,θ’) 。

把在图像空间中检测直线的问题转化为在极坐标参数空间中找通过点(r,θ)的**最多正弦曲线数**的问题。

步骤：
1.离散化θ， θ=-45,0,45,90度

2.按点的坐标(x,y)和每个角度θ求r

<img src="https://gitee.com/cpicture/picture-1/raw/master/20210620095849.png" style="zoom:67%;" />

3.统计（r，θ）出现的次数

<img src="https://gitee.com/cpicture/picture-1/raw/master/20210620100002.png" style="zoom:67%;" />

<img src="https://gitee.com/cpicture/picture-1/raw/master/20210620100029.png" style="zoom:67%;" />

**直线Hough检测步骤**

构建（参数空间）变换域累加器数组，并将其初始化为0；

读入一幅二值化图像，遍历图像像素点；

对每一个像素点，进行霍夫变换，按照r和θ的值在变换域累加器数组的相应位置上加1；

遍历累加器数组，寻找局部极大值。

**基于Hough变换的圆检测原理**

![](https://gitee.com/cpicture/picture-1/raw/master/20210620100251.png)

![](https://gitee.com/cpicture/picture-1/raw/master/20210620100305.png)

**圆Hough检测步骤**

基于以上原理对参数空间适当量化，得到一个三维的累加器阵列，阵列中的每一个立方小格对应的参数离散值。        

对图像空间所存在的圆进行边缘检测，将每个边缘点映射到 abr三维空间，同时将对应立方小格的累加器累加。

当对全部边缘点变换完成后，查找所有累加器的最大值，其对应坐标就是图像空间中圆的圆心和半径

## 区域法

思路：综合考虑待分割区域内部像素的**特征同质性**和**近邻性**，通过反复地**将相邻且特征相似的像素或区域纳入同一分割区域**，以实现分割

两种区域分割算法：区域生长法、区域分裂与合并法

**基本步骤：**

通过人工指定或设计专门的初始化算法，寻找一组生长点（单个像素或某小区域）

搜索生长点的领域，比较领域像素与生长点像素的特征相似性，若满足合并条件，则合并为同一区域，形成新的生长点

重复步骤2直到没有新的生长点出现

关键问题：

初始化：选择一组能正确代表所需区域的生长点像素

生长过程：选择有意义的特征，用于相似性判断

停止条件：确定相似性准则，即获取生长过程停止的准则

## 图论法

基本思想：将数字图像视为具有拓扑结构（常为矩形）的图(graph)，将像素视为点(vertex)，将相邻像素间的联系视为边(edge)，定义某种基于类别标记的**目标函数**，通过对目标函数的优化实现分割 

图的定义：G=[V,E];

数字图像到图的转化：**像素：点     4连通或8连通领域：边**

最小割的定义：割断的边的**权值和最小**

关键问题：如何定义边的权值？灰度差，梯度度量等